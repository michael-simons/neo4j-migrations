<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) on Tue Jul 22 15:04:24 UTC 2025 -->
<title>Migrations (Neo4j Migrations (Core) 2.18.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-07-22">
<meta name="description" content="declaration: module: ac.simons.neo4j.migrations.core, package: ac.simons.neo4j.migrations.core, class: Migrations">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Migrations.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../module-summary.html">ac.simons.neo4j.migrations.core</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">ac.simons.neo4j.migrations.core</a></div>
<h1 title="Class Migrations" class="title">Class Migrations</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">ac.simons.neo4j.migrations.core.Migrations</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">Migrations</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Main entry to Neo4j Migrations</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.0.1</dd>
<dt>Author:</dt>
<dd>Michael J. Simons</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(ac.simons.neo4j.migrations.core.MigrationsConfig,org.neo4j.driver.Driver)" class="member-name-link">Migrations</a><wbr>(<a href="MigrationsConfig.html" title="class in ac.simons.neo4j.migrations.core">MigrationsConfig</a>&nbsp;config,
 org.neo4j.driver.Driver&nbsp;driver)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a <a href="Migrations.html" title="class in ac.simons.neo4j.migrations.core"><code>migrations instance</code></a> ready to used with the given configuration over the connection
 defined by the <code>driver</code>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="MigrationVersion.html" title="class in ac.simons.neo4j.migrations.core">MigrationVersion</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply()" class="member-name-link">apply</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applies all discovered Neo4j migrations.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="MigrationVersion.html" title="class in ac.simons.neo4j.migrations.core">MigrationVersion</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply(boolean)" class="member-name-link">apply</a><wbr>(boolean&nbsp;log)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applies all discovered Neo4j migrations.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="refactorings/Counters.html" title="interface in ac.simons.neo4j.migrations.core.refactorings">Counters</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply(ac.simons.neo4j.migrations.core.refactorings.Refactoring...)" class="member-name-link">apply</a><wbr>(<a href="refactorings/Refactoring.html" title="interface in ac.simons.neo4j.migrations.core.refactorings">Refactoring</a>...&nbsp;refactorings)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applies one or more refactorings to the target (not the schema) database  without recording any metadata and also
 without acquiring the lock.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply(java.net.URL...)" class="member-name-link">apply</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URL.html" title="class or interface in java.net" class="external-link">URL</a>...&nbsp;resources)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applies one or  more migrations to the target (not  the schema) database without recording any metadata and also
 without acquiring the lock.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CleanResult.html" title="class in ac.simons.neo4j.migrations.core">CleanResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clean(boolean)" class="member-name-link">clean</a><wbr>(boolean&nbsp;all)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cleans the <a href="MigrationsConfig.html#getOptionalSchemaDatabase()"><code>selected schema database</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearCache()" class="member-name-link">clearCache</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clears the internal cache (discovered migrations and callbacks) which can be useful in certain testing scenarios.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="DeleteResult.html" title="class in ac.simons.neo4j.migrations.core">DeleteResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#delete(ac.simons.neo4j.migrations.core.MigrationVersion)" class="member-name-link">delete</a><wbr>(<a href="MigrationVersion.html" title="class in ac.simons.neo4j.migrations.core">MigrationVersion</a>&nbsp;version)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Deletes the specific version from  <a href="MigrationsConfig.html#getOptionalSchemaDatabase()"><code>selected schema database</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ConnectionDetails.html" title="interface in ac.simons.neo4j.migrations.core">ConnectionDetails</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConnectionDetails()" class="member-name-link">getConnectionDetails</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="catalog/Catalog.html" title="interface in ac.simons.neo4j.migrations.core.catalog">Catalog</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDatabaseCatalog()" class="member-name-link">getDatabaseCatalog</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the database catalog</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="catalog/Catalog.html" title="interface in ac.simons.neo4j.migrations.core.catalog">Catalog</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLocalCatalog()" class="member-name-link">getLocalCatalog</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the local catalog, containing constraints and indexes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getUserAgent()" class="member-name-link">getUserAgent</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MigrationChain.html" title="interface in ac.simons.neo4j.migrations.core">MigrationChain</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#info()" class="member-name-link">info</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns information about the context, the database, all applied and all pending applications.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MigrationChain.html" title="interface in ac.simons.neo4j.migrations.core">MigrationChain</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#info(boolean)" class="member-name-link">info</a><wbr>(boolean&nbsp;doLock)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This is an overload for <a href="#info()"><code>info()</code></a> ()} that allows skipping the locking mechanism.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MigrationChain.html" title="interface in ac.simons.neo4j.migrations.core">MigrationChain</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#info(ac.simons.neo4j.migrations.core.MigrationChain.ChainBuilderMode)" class="member-name-link">info</a><wbr>(<a href="MigrationChain.ChainBuilderMode.html" title="enum class in ac.simons.neo4j.migrations.core">MigrationChain.ChainBuilderMode</a>&nbsp;mode)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns information about the context, the database, all applied and all pending applications.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RepairmentResult.html" title="class in ac.simons.neo4j.migrations.core">RepairmentResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#repair()" class="member-name-link">repair</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This command repairs databases  containing Neo4j-Migration chains.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ValidationResult.html" title="class in ac.simons.neo4j.migrations.core">ValidationResult</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#validate()" class="member-name-link">validate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Validates the database against the resolved migrations.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ValidationResult.html" title="class in ac.simons.neo4j.migrations.core">ValidationResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#validate(boolean)" class="member-name-link">validate</a><wbr>(boolean&nbsp;doLock)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This is an overload for <a href="#validate()"><code>validate()</code></a> that allows skipping the locking mechanism.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(ac.simons.neo4j.migrations.core.MigrationsConfig,org.neo4j.driver.Driver)">
<h3>Migrations</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Migrations</span><wbr><span class="parameters">(<a href="MigrationsConfig.html" title="class in ac.simons.neo4j.migrations.core">MigrationsConfig</a>&nbsp;config,
 org.neo4j.driver.Driver&nbsp;driver)</span></div>
<div class="block">Creates a <a href="Migrations.html" title="class in ac.simons.neo4j.migrations.core"><code>migrations instance</code></a> ready to used with the given configuration over the connection
 defined by the <code>driver</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>config</code> - The configuration to use</dd>
<dd><code>driver</code> - The connection</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="clearCache()">
<h3>clearCache</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clearCache</span>()</div>
<div class="block">Clears the internal cache (discovered migrations and callbacks) which can be useful in certain testing scenarios.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.2.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConnectionDetails()">
<h3>getConnectionDetails</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ConnectionDetails.html" title="interface in ac.simons.neo4j.migrations.core">ConnectionDetails</a></span>&nbsp;<span class="element-name">getConnectionDetails</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Information about the connection when migrations are applied, validated and so on.</dd>
<dt>Since:</dt>
<dd>1.4.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="MigrationContext.html#getConnectionDetails()"><code>MigrationContext.getConnectionDetails()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="info()">
<h3>info</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MigrationChain.html" title="interface in ac.simons.neo4j.migrations.core">MigrationChain</a></span>&nbsp;<span class="element-name">info</span>()</div>
<div class="block">Returns information about the context, the database, all applied and all pending applications.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The chain of migrations.</dd>
<dt>Throws:</dt>
<dd><code>org.neo4j.driver.exceptions.ServiceUnavailableException</code> - in case the driver is not connected</dd>
<dd><code><a href="MigrationsException.html" title="class in ac.simons.neo4j.migrations.core">MigrationsException</a></code> - for everything caused by failing migrations</dd>
<dt>Since:</dt>
<dd>0.0.4</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#info(ac.simons.neo4j.migrations.core.MigrationChain.ChainBuilderMode)"><code>info(ChainBuilderMode)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="info(boolean)">
<h3>info</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MigrationChain.html" title="interface in ac.simons.neo4j.migrations.core">MigrationChain</a></span>&nbsp;<span class="element-name">info</span><wbr><span class="parameters">(boolean&nbsp;doLock)</span></div>
<div class="block">This is an overload for <a href="#info()"><code>info()</code></a> ()} that allows skipping the locking mechanism. Use with care.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>doLock</code> - Use false to skip the locking mechanism</dd>
<dt>Returns:</dt>
<dd>The chain of migrations.</dd>
<dt>Since:</dt>
<dd>2.16.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#info()"><code>info()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="info(ac.simons.neo4j.migrations.core.MigrationChain.ChainBuilderMode)">
<h3>info</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MigrationChain.html" title="interface in ac.simons.neo4j.migrations.core">MigrationChain</a></span>&nbsp;<span class="element-name">info</span><wbr><span class="parameters">(<a href="MigrationChain.ChainBuilderMode.html" title="enum class in ac.simons.neo4j.migrations.core">MigrationChain.ChainBuilderMode</a>&nbsp;mode)</span></div>
<div class="block">Returns information about the context, the database, all applied and all pending applications.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mode</code> - Specify how the chain should be computed</dd>
<dt>Returns:</dt>
<dd>The chain of migrations.</dd>
<dt>Throws:</dt>
<dd><code>org.neo4j.driver.exceptions.ServiceUnavailableException</code> - in case the driver is not connected</dd>
<dd><code><a href="MigrationsException.html" title="class in ac.simons.neo4j.migrations.core">MigrationsException</a></code> - for everything caused by failing migrations</dd>
<dt>Since:</dt>
<dd>1.4.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply()">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="MigrationVersion.html" title="class in ac.simons.neo4j.migrations.core">MigrationVersion</a>&gt;</span>&nbsp;<span class="element-name">apply</span>()</div>
<div class="block">Applies all discovered Neo4j migrations. Migrations can either be classes implementing <a href="JavaBasedMigration.html" title="interface in ac.simons.neo4j.migrations.core"><code>JavaBasedMigration</code></a>
 or Cypher script migrations that are on the classpath or filesystem.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The last applied migration (if any)</dd>
<dt>Throws:</dt>
<dd><code>org.neo4j.driver.exceptions.ServiceUnavailableException</code> - in case the driver is not connected</dd>
<dd><code><a href="MigrationsException.html" title="class in ac.simons.neo4j.migrations.core">MigrationsException</a></code> - for everything caused by failing migrations</dd>
<dt>Since:</dt>
<dd>0.0.1</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#apply(boolean)"><code>apply(boolean)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(boolean)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="MigrationVersion.html" title="class in ac.simons.neo4j.migrations.core">MigrationVersion</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(boolean&nbsp;log)</span></div>
<div class="block">Applies all discovered Neo4j migrations. Migrations can either be classes implementing <a href="JavaBasedMigration.html" title="interface in ac.simons.neo4j.migrations.core"><code>JavaBasedMigration</code></a>
 or Cypher script migrations that are on the classpath or filesystem.
 <p>
 The startup will be logged to  <code>ac.simons.neo4j.migrations.core.Migrations.Startup</code> and can be individually
 disabled through that logger.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>log</code> - set to true to log connection details prior to applying the migrations</dd>
<dt>Returns:</dt>
<dd>The last applied migration (if any)</dd>
<dt>Throws:</dt>
<dd><code>org.neo4j.driver.exceptions.ServiceUnavailableException</code> - in case the driver is not connected</dd>
<dd><code><a href="MigrationsException.html" title="class in ac.simons.neo4j.migrations.core">MigrationsException</a></code> - for everything caused by failing migrations</dd>
<dt>Since:</dt>
<dd>1.12.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(ac.simons.neo4j.migrations.core.refactorings.Refactoring...)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="refactorings/Counters.html" title="interface in ac.simons.neo4j.migrations.core.refactorings">Counters</a></span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="refactorings/Refactoring.html" title="interface in ac.simons.neo4j.migrations.core.refactorings">Refactoring</a>...&nbsp;refactorings)</span></div>
<div class="block">Applies one or more refactorings to the target (not the schema) database  without recording any metadata and also
 without acquiring the lock.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>refactorings</code> - the refactorings to apply</dd>
<dt>Returns:</dt>
<dd>summarized counters</dd>
<dt>Since:</dt>
<dd>1.13.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(java.net.URL...)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URL.html" title="class or interface in java.net" class="external-link">URL</a>...&nbsp;resources)</span></div>
<div class="block">Applies one or  more migrations to the target (not  the schema) database without recording any metadata and also
 without acquiring the lock.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>resources</code> - One or more resources pointing to parsable migration data</dd>
<dt>Returns:</dt>
<dd>the number of migrations applied</dd>
<dt>Since:</dt>
<dd>1.13.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clean(boolean)">
<h3>clean</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CleanResult.html" title="class in ac.simons.neo4j.migrations.core">CleanResult</a></span>&nbsp;<span class="element-name">clean</span><wbr><span class="parameters">(boolean&nbsp;all)</span></div>
<div class="block">Cleans the <a href="MigrationsConfig.html#getOptionalSchemaDatabase()"><code>selected schema database</code></a>. If there  is no schema
 database selected, the operation uses the <a href="MigrationsConfig.html#getOptionalDatabase()"><code>target database.</code></a> If this
 isn't configured as either, the users home database will be used. Items te be removed include:
 <ol>
 <li>Migration chains (those are the nodes containing information about the applied migrations</li>
 <li>Any log from this tool</li>
 <li>Any constraints created by this tool</li>
 </ol>
 and will  delete and  drop them in  that order. This  is a  <strong>destructive</strong> operation, so  make sure
 not  to  apply it  to  your  production database  without  thinking  at least  twice.  It  cannot be  undone  via
 Neo4j-Migrations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>all</code> - Set to true to remove all constructs created by Neo4j-Migrations, set to false to
            remove all the migration chain for the selected or automatically determined target database.</dd>
<dt>Returns:</dt>
<dd>The result of cleaning the database.</dd>
<dt>Throws:</dt>
<dd><code>org.neo4j.driver.exceptions.ServiceUnavailableException</code> - in case the driver is not connected</dd>
<dd><code><a href="MigrationsException.html" title="class in ac.simons.neo4j.migrations.core">MigrationsException</a></code> - for everything caused due to schema objects not deletable</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="delete(ac.simons.neo4j.migrations.core.MigrationVersion)">
<h3>delete</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DeleteResult.html" title="class in ac.simons.neo4j.migrations.core">DeleteResult</a></span>&nbsp;<span class="element-name">delete</span><wbr><span class="parameters">(<a href="MigrationVersion.html" title="class in ac.simons.neo4j.migrations.core">MigrationVersion</a>&nbsp;version)</span></div>
<div class="block">Deletes the specific version from  <a href="MigrationsConfig.html#getOptionalSchemaDatabase()"><code>selected schema database</code></a>.
 If there  is no schema  database selected, the  operation uses the  <a href="MigrationsConfig.html#getOptionalDatabase()"><code>target database.</code></a>. If this isn't  configured as either, the users home database will  be used. The migration will
 be removed from the migration chain without being prior resolved from the filesystem or classpath. This operation
 is useful for all scenarios  in which you would like to delete specific migrations  from your scripts which would
 otherwise lead to  a <a href="MigrationsException.html" title="class in ac.simons.neo4j.migrations.core"><code>MigrationsException</code></a> indicating  that more migrations have been  applied than locally
 resolved.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>version</code> - the version that should be deleted, must not be null.</dd>
<dt>Returns:</dt>
<dd>the result of the operation</dd>
<dt>Since:</dt>
<dd>2.2.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="repair()">
<h3>repair</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RepairmentResult.html" title="class in ac.simons.neo4j.migrations.core">RepairmentResult</a></span>&nbsp;<span class="element-name">repair</span>()</div>
<div class="block">This command repairs databases  containing Neo4j-Migration chains. Those schema databases need  to be repaired if
 the locally  discovered migrations have  diverged from the  ones applied to the  database. This can  have several
 reasons: Local Cypher scripts have been edited after they  have been recorded with this tool, thus their checksum
 doesn't match anymore, local scripts or classes have been deleted or scripts or classes have been inserted.
 <p>
 The repairment will  take the locally discovered set of  migrations (both Cypher files and classes)  as truth and
 proceed as follows:

 <ol>
     <li>Check all the checksums (pairwise by migration version) and fix the recorded chain if necessary</li>
     <li>Check for missing local migrations and delete the missing ones in the database</li>
     <li>Check for inserted local migrations and create new chain entries with current time stamp</li>
 </ol>

 The process  does never run  migrations, as there  is no proper way  of telling any  newly found script  has been
 manually run or not.
 <p>
 This command will  throw a <a href="MigrationsException.html" title="class in ac.simons.neo4j.migrations.core"><code>MigrationsException</code></a>  if no local scripts  or classes are discovered  at all as
 that would lead to the deletion of all applied migrations. In case that is the desired outcome, please use <a href="#clean(boolean)"><code>clean(boolean)</code></a> and optionally specify whether Neo4j-Migration required infrastructure (read constraints etc).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The result  of the  repair process,  containing detailed information  about the  outcome and  the changed
         database content</dd>
<dt>Since:</dt>
<dd>2.2.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validate()">
<h3>validate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ValidationResult.html" title="class in ac.simons.neo4j.migrations.core">ValidationResult</a></span>&nbsp;<span class="element-name">validate</span>()</div>
<div class="block">Validates the database against the resolved migrations. A database  is considered to be in a valid state when all
 resolved migrations  have been applied (there  are no more  pending migrations). If  a database is not  yet fully
 migrated,  it  won't  identify  as  <a href="ValidationResult.Outcome.html#VALID"><code>ValidationResult.Outcome.VALID</code></a>  but  it  will  indicate  via  <a href="ValidationResult.html#needsRepair()"><code>ValidationResult.needsRepair()</code></a> that it doesn't need repair. Applying the pending migrations via <a href="#apply()"><code>apply()</code></a>
 will bring the database  into a valid state. Most other  outcomes not valid need to be  manually fix. One radical
 fix is calling <a href="#clean(boolean)"><code>clean(boolean)</code></a> with the same configuration.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a validation result, with an outcome, a possible list  of warnings and indicators if the database is in a
         valid state</dd>
<dt>Since:</dt>
<dd>1.2.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validate(boolean)">
<h3>validate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ValidationResult.html" title="class in ac.simons.neo4j.migrations.core">ValidationResult</a></span>&nbsp;<span class="element-name">validate</span><wbr><span class="parameters">(boolean&nbsp;doLock)</span></div>
<div class="block">This is an overload for <a href="#validate()"><code>validate()</code></a> that allows skipping the locking mechanism. Use with care.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>doLock</code> - Use false to skip the locking mechanism</dd>
<dt>Returns:</dt>
<dd>a validation result, with an outcome, a possible list  of warnings and indicators if the database is in a
         valid state</dd>
<dt>Since:</dt>
<dd>2.16.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#validate()"><code>validate()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLocalCatalog()">
<h3>getLocalCatalog</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="catalog/Catalog.html" title="interface in ac.simons.neo4j.migrations.core.catalog">Catalog</a></span>&nbsp;<span class="element-name">getLocalCatalog</span>()</div>
<div class="block">Retrieves the local catalog, containing constraints and indexes.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the local catalog</dd>
<dt>Since:</dt>
<dd>1.7.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDatabaseCatalog()">
<h3>getDatabaseCatalog</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="catalog/Catalog.html" title="interface in ac.simons.neo4j.migrations.core.catalog">Catalog</a></span>&nbsp;<span class="element-name">getDatabaseCatalog</span>()</div>
<div class="block">Retrieves the database catalog</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the database catalog</dd>
<dt>Since:</dt>
<dd>1.7.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserAgent()">
<h3>getUserAgent</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getUserAgent</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the user agent for Neo4j-Migrations (given in the form name/version).</dd>
<dt>Since:</dt>
<dd>1.2.1</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2020&#x2013;2025 <a href="https://neo4j.com">Neo4j, Neo4j Sweden AB</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
